<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News app</title>
    




<style>


@import url("https://fonts.googleapis.com/css2?family=PT+Serif:ital@1&family=Poppins:ital,wght@1,200&display=swap");
*{
    padding: 0;
    margin: 0;
    box-sizing: border-box;

}
body
{
    font-family: "poppins",sans-serif;
    color:rgba(255, 251, 251, 0.769) ;

background-image: linear-gradient(315deg, #485461 0%, #28313b 74%);
}
p{
    font-family: "Roboto",sans-serif;
    color: rgb(212, 228, 223);
    line-height: 1.4rem;
    scroll-behavior: smooth;
    
}
a{
    text-decoration: none;

}
ul{
    list-style: none;
}
.flex{
    display: flex;
    align-items: center;
}
.container
{
    max-width: 1180px;
    margin-inline:auto ;
    overflow: hidden;
}

.main-nav img{
   
    width: 100px;
 border-radius: 50%;
 margin-left: 0px;


}
nav{
    background-color: #536370;
    box-shadow: 0 0 4px #b4c0cc;
    position: fixed;
    top: 0;
    z-index: 99;
    left: 0;
    right: 0;
    font-weight: 900;
}
.main-nav{
    justify-content: space-between;
    padding-block: 3px;

}
.nav-links ul{
    gap: 25px;
}
.hover-link{
    cursor: pointer;
}
.hover-link:hover{
    color: red;

}
.hover-link:active{
    color: red;
}
.nav-item.active{
    color: red;
}
.search-button{
    height: 32px;
    gap: 9px;
background-color: rgb(81, 198, 167);
color: aliceblue;
padding: 8px 24px;
border: none;
border-radius: 4px;
cursor: pointer;
font-weight: 400;
}
.news-input{
    width: 200px;
    height: 32px;
    padding-inline:12px;
    border-radius: 4px;
    border: 2px solid #bbd0e2;

}
.search-button:hover{
    background-color: red;
}

main{
    padding-block:20px ;
    margin-top: 130px;
}
.cards-container{
    justify-content: space-between;
    flex-wrap: wrap;
    row-gap: 20px;
    align-items: start;

}
.card{
    width: 340px;
    min-height: 390px;
    box-shadow: 0px 0px 4px #d4ecff;
    border-radius: 4px;
    cursor: pointer;
    overflow: hidden;
    background-color: #120f0f;
}
.card:hover{
    box-shadow: 1px 1px 8px #d4ecff;
    background-color: #141c25;
    transform: translateY(-2px);
    transition: 1s;
}
.card-header img{
    width: 100%;
    height: 180px;
    object-fit: cover;

}
.card-content{
    padding: 12px;
}
.news-source{
    margin-block: 12px;
    
}


/* Default styles for larger screens */
/* Your existing CSS rules go here */

/* Media query for tablets and smaller screens */
@media (max-width: 768px) {
    body {
     
    }
  
    .main-nav img {
      width: 80px;
    }
  
    #ipl{
        display: flex;
        margin-left:10px ;
    }
    #finance{
display: none;
    }
    #porn{
      display: none; 
    }
    #finance{
        display: none;
    }
    #politics{
        display: none;
    }
    #military{
        display: none;
    }
    #crypto{
        display:none;
    }
.nav-links ul li{
font-size: small;
}
.nav-links ul{
    gap: 15px;
}
.search-bar{
    display: flex;
margin-right: 160px;

}
  .news-input{
    width: 150px;
    display: flex;
    margin-right:40px;
    margin-left: 20px;
  }
  .search-button {
    width: auto; /* Allow the button to adjust its width based on content */
    padding: 4px 12px; /* Adjust padding for better button size */
    font-size: small;
    border-radius: 4px; /* Reset border-radius to its default */
    margin-left: 8px;
    /
}
    /* ... Adjust other styles as needed ... */
    
    .cards-container {
      justify-content: center; /* Center cards on smaller screens */
    }
    
    .card {
      width: 80%; /* Cards take up full width on smaller screens */
      /* Adjust other card styles as needed */
    }
  }
  


</style>







</head>
<body >
    <nav>
         <div class="main-nav container flex">
               <a href="#" onclick="reload()">
                <img src="./assets/media.png"  alt="" srcset="">
               </a>
         <div class="nav-links">
            <ul class="flex">
            <li class="hover-link nav-item" id="ipl" onclick="onNavItemClick('ipl')">IPL</li>
            <li class="hover-link nav-item" id="finance" onclick="onNavItemClick('finance')">Finance</li>
            <li class="hover-link nav-item" id="politics" onclick="onNavItemClick('politics')">Politics</li>
            <li class="hover-link nav-item" id="technology" onclick="onNavItemClick('technology')">Technology</li>
            <li class="hover-link nav-item" id="apps" onclick="onNavItemClick('apps')">Apps</li>
            <li class="hover-link nav-item" id="military" onclick="onNavItemClick('military')">Military</li>
            <li class="hover-link nav-item" id="crypto" onclick="onNavItemClick('cryptocurrency')">cryptocurrency</li>
            <li class="hover-link nav-item" id="porn" onclick="onNavItemClick('porn')">Uncensored</li>

            </ul>
         </div>
         <div class="search-bar">
            <input type="text"  id="search-text" class="news-input" placeholder="e.g. technology"> 
            <button id="search-button" class="search-button">Search</button>
</div>
         </div>
    </nav>
    <main>
        <div class="cards-container container flex" id="cards-container">
            
        </div>
    </main>
<template id="template-news-card">
    <div class="card">
        <div class="card-header">
            <img id="news-img" class="news-img" src="./assets/media.png" alt="" srcset="">
        </div>
        <div class="card-content">
            <h3 id="news-title">TITLE OF NEWS</h3>
            <h6 class="news-source" id="news-source">endndn 26/08/2023</h6>
            <p class="news-desc" id="news-desc">ksjbskvbskvsdskvjhsdkvhskd<br>skskjdvbsjkdvhskdvnkssdhsdkjv<br>sdvsvsvdsdv</p>
        </div>
    </div>
</template>

<script>

const API_KEY = "f7e90110f198461998eb849c457f45af";
const url = "https://newsapi.org/v2/everything?q=";

window.addEventListener('load', () => {
    fetchNews("usa");
});

async function fetchNews(query) {
    try {
        const res = await fetch(`${url}${query}&apiKey=${API_KEY}`);
        const data = await res.json();
        console.log(data);
        bindData(data.articles);
    } catch (error) {
        console.error('Error fetching news data:', error);
    }
}

function bindData(articles) {
    const cardContainer = document.getElementById('cards-container'); // Check the ID here
    const newsCardTemplate = document.getElementById('template-news-card'); // Check the ID here

    cardContainer.innerHTML = ''; // Clear existing content

    articles.forEach((article) => {
        if (!article.urlToImage) {
            return;
        }
        
        const cardClone = newsCardTemplate.content.cloneNode(true);
        filldataincard(cardClone,article);
        cardContainer.appendChild(cardClone);
    });

}

function  filldataincard(cardClone,article) {
    const newsimg=cardClone.querySelector('#news-img');
    const newstitle=cardClone.querySelector('#news-title');
    const newssource=cardClone.querySelector('#news-source');
    const newsdesc=cardClone.querySelector('#news-desc');

   newsimg.src=article.urlToImage;
   newstitle.innerHTML=article.title;
   newsdesc.innerHTML=article.description;
   
  const date=new Date(article.publishedAt).toLocaleString("en-US",{
    timeZone:"Asia/Jakarta"
  });

newssource.innerHTML=`${article.source.name} . ${date}`;
cardClone.firstElementChild.addEventListener('click',()=>{
    window.open(article.url,"_blank");
});

}
let curselectnav=null;
function onNavItemClick(id) {
    fetchNews(id);

    const navitem=document.getElementById(id);
    curselectnav?.classList.remove('active');
    curselectnav=navitem;
    curselectnav.classList.add('active');
}
const searchbtn=document.getElementById('search-button');
const searchtext=document.getElementById('search-text');

searchbtn.addEventListener('click',()=>{
    const query=searchtext.value;
    if (!query) {
        return;
    }
    else{
        fetchNews(query);
    }
curselectnav?.classList.remove('active');
curselectnav=null;

});

function reload() {
    window.location.reload();
}















</script>
</body>
</html>